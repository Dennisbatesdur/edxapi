/*!
 App Connect Framework7 plugin
 Version: 1.0.1
 (c) 2020 DMXzone.com
 @build 2020-09-04 14:21:51
 */
Framework7||alert("Framework7 missing!"),dmx.f7={events:null,init:function(e,t){var o=dmx.f7.events||new Framework7.Events,i=Object.assign({},t,{root:e});window.routes&&window.routes.length&&!i.routes&&(i.routes=routes);var n=new Framework7(i);return n.initialized?o.emit("ready",n):n.once("init",function(){o.emit("ready",n)}),n},ready:function(e){e&&(Framework7.instance?e(Framework7.instance):dmx.f7.events.once("ready",e))}},dmx.config.mapping[".view"]="f7-view",dmx.config.mapping[".page"]="f7-page",dmx.config.mapping[".popup"]="f7-popup",dmx.Actions({"f7.toast.show":function(e){Framework7.instance.toast.create({destroyOnClose:!0,icon:this.parse(e.icon),text:this.parse(e.text),position:this.parse(e.position)||"bottom",horizontalPosition:this.parse(e.horizontalPosition)||"left",closeButton:!!this.parse(e.closeButton),closeButtonColor:this.parse(e.closeButtonColor),closeButtonText:this.parse(e.closeButtonText)||"Ok",closeTimeout:this.parse(e.closeTimeout)||void 0}).open()}}),dmx.Actions({"f7.dialog.alert":function(e){var t=this.parse(e.text),o=this.parse(e.title);return new Promise(function(e){Framework7.instance.dialog.alert(t,o,e)})},"f7.dialog.confirm":function(t){var o=this,i=this.parse(t.text),n=this.parse(t.title);return new Promise(function(e){Framework7.instance.dialog.confirm(i,n,function(){t.then?e(o._exec(t.then)).then(function(){return!0}):e(!0)},function(){t.else?e(o._exec(t.else)).then(function(){return!1}):e(!1)})})},"f7.dialog.prompt":function(e){var o=this.parse(e.text),i=this.parse(e.title),n=this.parse(e.defaultValue);return new Promise(function(t){Framework7.instance.dialog.prompt(o,i,function(e){t(e)},function(){t(null)},n)})},"f7.dialog.login":function(e){var t=this.parse(e.text),i=this.parse(e.title);return new Promise(function(o){Framework7.instance.dialog.login(t,i,function(e,t){o({username:e,password:t})},function(){o(null)})})},"f7.dialog.password":function(e){var o=this.parse(e.text),i=this.parse(e.title);return new Promise(function(t){Framework7.instance.dialog.password(o,i,function(e){t(e)},function(){t(null)})})},"f7.dialog.preloader":function(e){var t=this.parse(e.title),o=this.parse(e.color);Framework7.instance.dialog.preloader(t,o)},"f7.dialog.close":function(e){Framework7.instance.dialog.close()}}),dmx.Actions({"f7.progressbar.show":function(e){Framework7.instance.progressbar.show(this.parse(e.color))},"f7.progressbar.set":function(e){Framework7.instance.progressbar.set(this.parse(e.progress),this.parse(e.duration))},"f7.progressbar.hide":function(e){Framework7.instance.progressbar.hide()}}),dmx.Actions({"f7.preloader.show":function(e){Framework7.instance.preloader.show()},"f7.preloader.hide":function(e){Framework7.instance.preloader.hide()}}),dmx.Component("f7-app",{initialData:{},attributes:{name:{type:String,default:"Framework7"},version:{type:String,default:"1.0.0"},theme:{type:String,default:"auto"},"auto-dark-theme":{type:Boolean,default:!1},params:{type:Object,default:{}}},methods:{alert:function(e){this.f7&&this.f7.dialog.alert(e)},showPreloader:function(e){this.f7&&this.f7.preloader.show(e)},hidePreloader:function(){this.f7&&this.f7.preloader.hide()},showProgress:function(e){this.f7&&this.f7.progressbar.show(e)},setProgress:function(e,t){this.f7&&this.f7.progressbar.set(e,t)},hideProgress:function(e){this.f7&&this.f7.progressbar.hide()}},render:function(e){var t=this.props.theme;"auto"==t&&0<=document.location.search.indexOf("theme=")&&(t=document.location.search.split("theme=")[1].split("&")[0]),this.f7=dmx.f7.init(e,Object.assign(this.props.params,{id:"io.framework7."+this.name,name:this.props.name,version:this.props.version,theme:t,autoDarkTheme:this.props["auto-dark-theme"],view:{stackPages:!0}})),this.$parse()}}),dmx.Component("f7-view",{constructor:function(e,t){this.onPageInit=this.onPageInit.bind(this),this.onPageBeforeRemove=this.onPageBeforeRemove.bind(this),dmx.BaseComponent.call(this,e,t)},methods:{navigate:function(e,t){this.f7View.router&&this.f7View.router.navigate(e,t)},back:function(e,t){this.f7View.router&&this.f7View.router.back(e,t)},refresh:function(){this.f7View.router&&this.f7View.router.refreshPage()},clearHistory:function(){this.f7View.router&&this.f7View.router.clearPreviousHistory()}},render:function(e){this.f7View=Framework7.instance.views.create(e),this.f7View.on("pageInit",this.onPageInit),this.f7View.on("pageReinit",this.onPageReinit),this.f7View.on("pageBeforeRemove",this.onPageBeforeRemove),this.$parse()},onPageInit:function(e){var t=new(dmx.Component("f7-page"))(e.el,this);t.set("route",e.route),this.children.push(t),this.set(t.name,t.data),e.dmxComponent=t},onPageReinit:function(e){e.dmxComponent&&e.dmxComponent.set("route",e.route)},onPageBeforeRemove:function(t){var e=this.children.findIndex(function(e){return e.$node==t.el});-1!=e&&(this.del(this.children[e].name),this.children.splice(e,1))},destroy:function(){this.f7View&&(this.f7View.off("pageInit",this.onPageInit),this.f7View.off("pageReinit",this.onPageReinit),this.f7View.off("pageBeforeRemove",this.onPageBeforeRemove),this.f7View.destroy&&this.f7View.destroy())}}),dmx.Component("f7-page",{initialData:{route:null},render:function(e){this.$parse()}}),dmx.Component("f7-popup",{attributes:{"close-on-escape":{type:Boolean,default:!1},"swipe-to-close":{type:Boolean,default:!1},opened:{type:Boolean,default:!1}},methods:{open:function(e){this.f7Popup&&this.f7Popup.open(e)},close:function(e){this.f7Popup&&this.f7Popup.close(e)}},events:{open:Event,opened:Event,close:Event,closed:Event},render:function(e){var t={el:e,on:{open:this.dispatchEvent.bind(this,"open"),opened:this.dispatchEvent.bind(this,"opened"),close:this.dispatchEvent.bind(this,"close"),closed:this.dispatchEvent.bind(this,"closed")},closeOnEscape:this.props["close-on-escape"],swipeToClose:this.props["swipe-to-close"]},o=this;dmx.f7.ready(function(e){o.f7Popup=e.popup.create(t),o.props.opened&&o.f7Popup.open(!1)}),this.$parse()},update:function(e){e.opened!=this.props.opened&&(this.props.opened?this.f7Popup.open():this.f7Popup.close())},destroy:function(){this.f7Popup&&(this.f7Popup.destroy(),this.f7Popup=void 0)}});
//# sourceMappingURL=../maps/dmxFramework7.js.map
